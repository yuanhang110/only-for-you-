(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{2004:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2016),r=n(2060),i=n(2073),l=n(2005);t.default=function(e){return l.isMobileDevice()?o.createElement(i.default,Object.assign({},e,{childNode:a.default})):o.createElement(i.default,Object.assign({},e,{childNode:r.default}))}},2005:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(58),a=n(83),r=n(541),i=n(2010),l=n(34),s=n(536),c=n(537);t.preloadImage=function(e,t,n,r){var i=0,l=[],s=n.filter((function(t){return t.pageID===e}));s&&s.forEach((function(e){var n,s,c,u=e.target;if(u!==a.backLink){var d=o.getPage(t,u);d.isLoaded||(i+=1,n=d,s=new Image,c=function(){0==(i-=1)&&r(l)},s.src=n.imageURL,s.onload=function(){l.push(n._id),c()},s.onerror=function(){c()})}}))},t.parseAnimate=function(e,t){var n={first:"",next:""};if(e){var o=e.animate;if(o){var a=r.animateName[o.animation];if(a){var i=r.animateTypes[a].css;if(i){var l=i.first,s=i.next;l&&"overlay"!==o.action&&(n.first="animate-general "+l),s&&(n.next="animate-general "+s),t&&(n.next="animate-general "+r.animateTypes[t].reverseCss.next)}}}}return n},t.isMobileDevice=function(){return null!==navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i)},t.calcAutoScale=function(e,t,n){var o=1;if(e&&t){var a=t.getBoundingClientRect(),r=e.getBoundingClientRect();if(0!==a.height)o=(a.height-40)/(n?r.width:r.height)*100,o-=o%10,o/=100}return o},t.builderPageStyle=function(e){var n=e.appType,o=e.pageSize,r=e.aniDuration,l=e.landscape,c=e.mobileType,u=e.scale,d=o.width*u,p=o.height,f={animationDuration:r,width:d,overflow:"hidden"};if("web"===n||c===s.MOBILE_TYPE_NONE)return f;if(!t.isMobileDevice())return d=i.default.getShellInfo(c||a.MobileType.iphoneX,l).defaultScreenSize.width,d*=u,f.width=d,f;if(t.isMobileDevice()){var h=window.orientation;if(d=window.innerWidth,p=window.innerHeight,f.width=d,f.height=p,l)switch(h){case 90:break;default:f.width=p,f.height=d,f.transform="rotate(90deg) translateY(-"+d+"px)",f.transformOrigin="top left"}else switch(h){case 90:f.width=p,f.height=d,f.transform="rotate(90deg) translateY(-"+d+"px)",f.transformOrigin="top left"}}return f},t.calculateInteractionSize=function(e){var n=e.appType,o=e.mobileType,r=e.position,c=e.size,u=e.landscape,d=e.pageSize,p=d,f=e.scale;if(t.isMobileDevice()){var h=window.orientation;p={width:window.innerWidth,height:0},90===h?u||(p.width=window.innerHeight):u&&(p.width=window.innerHeight),f=p.width/d.width,p.height=d.height*f}else if("phone"===n&&o!==s.MOBILE_TYPE_NONE){f*=i.default.getShellInfo(o||a.MobileType.iphoneX,u).defaultScreenSize.width/d.width}var g=l.size.scale(l.size.transToPixed(c,d),f),m=l.point.scale(l.point.transToPixed(r,d),f);return Object.assign({left:m.x,top:m.y},g)};var u=void 0;t.calStyle=function(e,t,n,o){var a={},i={},l="",s="",c=!1;if(t&&e){var d=void 0,p=void 0,f=void 0,h=void 0;u||(u=e);var g=u.animate,m=g.animation,v=g.gesture,w=g.duration;if(!m||!v)return{firstStyle:a,nextStyle:i,firstInitCls:l,nextInitCls:s,skipToNextPage:c};d=m.indexOf("Left")>-1||m.indexOf("Up")>-1||m.indexOf("OutY")>-1||m.indexOf("OutX")>-1?-1:(m.indexOf("Right")>-1||m.indexOf("Down")>-1||m.indexOf("InY")>-1||m.indexOf("InX"),1),v.indexOf("left")>-1||v.indexOf("up")>-1?h=-1:(v.indexOf("right")>-1||v.indexOf("down")>-1)&&(h=1),v.indexOf("left")>-1||v.indexOf("right")>-1?p="deltaX":(v.indexOf("up")>-1||v.indexOf("down")>-1)&&(p="deltaY");var y=r.animateTypes[m].style,b=y.first,P=y.next,E=[];b&&(E=b.split(" "));var S=P.split(" ");m.indexOf("slide")>-1&&(f=!0);var k="firstInit"+m.substring(0,1).toUpperCase()+m.substring(1),O="nextInit"+m.substring(0,1).toUpperCase()+m.substring(1),T="firstLast"+m.substring(0,1).toUpperCase()+m.substring(1),_="nextLast"+m.substring(0,1).toUpperCase()+m.substring(1),I=void 0,L=n[p],x=d*(1-Math.abs(L/o));if(h*L<0&&(x=d),f||(I=-(d-x)),1===E.length?a[E[0]]=1-Math.abs(I):2===E.length&&(a[E[0]]=E[1]+"("+100*I+"%)"),"scale"===E[1]?a[E[0]]=E[1]+"("+(1+I)+")":"rotateY"!==S[1]&&"rotateX"!==S[1]||Math.abs(I)<=.4&&(a[E[0]]=E[1]+"("+216*I+"deg)",i.display="none"),1===S.length?i[S[0]]=1-Math.abs(x):2===E.length&&(i[S[0]]=S[1]+"("+100*x+"%)"),"scale"===S[1]?i[S[0]]=S[1]+"("+(1-x)+")":"rotateY"!==S[1]&&"rotateX"!==S[1]||Math.abs(I)>.4&&(i[S[0]]=S[1]+"("+(144*x-360)+"deg)",a.display="none"),"end"===t)if(Math.abs(d-x)>=.4){var C=w*Math.abs(d-x);a.transition="all "+C+"ms ease",i.transition="all "+C+"ms ease",l=T,s=_,c=!0,setTimeout((function(){u=null}),C)}else l=k,s=O,u=null}return{firstStyle:a,nextStyle:i,firstInitCls:l,nextInitCls:s,skipToNextPage:c}},t.getGestureDirection=function(e){switch(e){case c.SWIPE_UP:case c.SWIPE_DOWN:return s.VERTICAL;case c.SWIPE_LEFT:case c.SWIPE_RIGHT:return s.HORIZONTAL;default:return""}},t.isNeedSyncAnimation=function(e,t){var n=Math.abs(e.deltaX),o=Math.abs(e.deltaY);return t===s.VERTICAL&&n<o||t===s.HORIZONTAL&&n>o},t.canScrollInMobile=function(e,t){return!(e===c.SWIPE_UP&&"goUp"===t||e===c.SWIPE_DOWN&&"goDown"===t||t===s.HORIZONTAL)},t.moveStart=function(e,n,o,a){var r=e.target,i=e.targetTouches,l=void 0,c={},u="",d=!1;i?(l=e.targetTouches[0],c={move:"touchmove",end:"touchend"}):(l=e,r=window,c={move:"mousemove",end:"mouseup"});var p=l.pageX,f=l.pageY,h={deltaX:0,deltaY:0},g=function(e){var a=l=i?e.targetTouches[0]:e,r=a.pageX,c=a.pageY;h={deltaX:r-p,deltaY:c-f},u||(h.deltaY<0?u="goUp":h.deltaY>0&&(u="goDown"),Math.abs(h.deltaX)>Math.abs(h.deltaY)&&(u=s.HORIZONTAL)),t.canScrollInMobile(n,u)||e.preventDefault(),t.isNeedSyncAnimation(h,t.getGestureDirection(n))&&!t.canScrollInMobile(n,u)&&(d=!0,o(h))};r.addEventListener(c.move,g),r.addEventListener(c.end,(function e(){d&&a(h),r.removeEventListener(c.move,g),r.removeEventListener(c.end,e)}))},t.validatePageExist=function(e,t){return!!o.getFlattenPages(e).find((function(e){return e.source===a.interactionTypes.sketch?e._id===t||e.clientID===t:e._id===t}))},t.isLarkBrowser=-1!==navigator.userAgent.indexOf("Lark")&&-1===window.location.href.indexOf("lark=true"),t.isLarkApplets=-1!==window.location.href.indexOf("lark=true"),t.isPhoneIn=-1!==window.location.href.indexOf("phoneUrl=true")},2006:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=o.createContext({})},2008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(2041);var a=o.memo((function(e){return e.dataURL?o.createElement("iframe",{className:"axure-page",src:e.adjustBodyPosition?e.dataURL+"?fromIDocApp=1":e.dataURL,style:{pointerEvents:e.preventEvents?"none":"unset"}}):null}));t.default=a},2009:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(2017),i=n(2051),l=n(2006),s=n(2005),c=n(34),u=n(83),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.parseInteractions=function(){var e=n.props,t=e.interactions,o=e.firstPage,a=[],r=[],i=[];if(o&&t){var l=o.clipArea,s=o.size,u=l.top,d=l.bottom,p=u*s.height,f=d*s.height,h={x:0,y:0,width:s.width,height:p},g={x:0,y:p,width:s.width,height:s.height-p-f},m={x:0,y:s.height-f,width:s.width,height:f};t.forEach((function(e){var t=c.size.transToPixed(e.size,s),n=c.point.transToPixed(e.position,s),o=c.rect.init(n,t);c.rect.contains(h,o)&&a.push(e),c.rect.intersectRect(g,o)&&i.push(Object.assign(Object.assign({},e),{position:Object.assign(Object.assign({},e.position),{y:e.position.y-u})})),c.rect.intersectRect(m,o)&&r.push(Object.assign(Object.assign({},e),{position:Object.assign(Object.assign({},e.position),{y:e.position.y+d-1})}))}))}return{top:a,center:i,bottom:r}},n.renderInteractions=function(e,t){if(!e||0===e.length)return null;var o=n.props,r=o.firstPage,l=o.scale,s=o.options,c=o.isFadeIn,u=o.appType,d=o.onLinkFadeInEnd,p=o.onLinkClick,f=o.nextPage,h=o.onLinkPan,g=o.onLinkPanDone,m=o.panState,v=o.overlayPage,w=n.state.showInteractions;return!s||!e||!r||f&&!m||t||w?null:a.createElement(i.default,{interactions:e,appType:u,scale:l,fadeIn:c,page:r,options:s,onInteractionClick:p,onInteractionPan:h,onInteractionPanDone:g,onFadeInEnd:d,overlayPage:v})},n.state={showInteractions:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(){this.setState({showInteractions:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.firstPage,o=t.nextPage,i=t.overlayPage,l=t.appType,c=t.scale,u=t.onAnimationEnd,d=t.options,p=t.overlayAnimation,f=t.panState,h=t.delta,g=t.onTransitionEnd;if(!n)return null;var m=d.mobileType,v=o;i&&(v=i);var w=s.parseAnimate(v,p),y=w.first,b=w.next,P=(v?v.animate:{animation:"",duration:0,noStyle:!1})||{animation:"none",duration:0,noStyle:!1},E=P.animation,S=P.duration,k=P.noStyle,O=("none"===E?1:S||0)+"ms",T=n.size,_=n.landscape,I=T,L=s.builderPageStyle({appType:l,pageSize:I,aniDuration:O,landscape:_,mobileType:m,scale:c}),x=L.width,C=this.parseInteractions();(f&&!i||!p&&k)&&(y="",b="");var D=s.calStyle(o,f,h,x),j=D.firstStyle,N=D.nextStyle,M=D.firstInitCls,A=D.nextInitCls,R=D.skipToNextPage;return a.createElement("div",null,a.createElement(r.default,{style:Object.assign(Object.assign({},L),j),className:["first-page",y,M],key:"first_"+(n&&n._id),page:n,topChildren:this.renderInteractions(C.top,i),centerChildren:this.renderInteractions(C.center,i),bottomChildren:this.renderInteractions(C.bottom,i)}),a.createElement(r.default,{className:["next-page",b,A],key:"next_"+(o&&o._id),style:Object.assign({animationDuration:O,overflow:"hidden",width:x},N),page:o,onAnimationEnd:u,onTransitionEnd:function(){g(R)}}),a.createElement(r.default,{className:["overlay-page",b],key:"overlay_"+(i&&i._id),isOverlay:!!i,style:{animationDuration:O,overflow:"hidden",width:x},page:i,onAnimationEnd:function(t){t.stopPropagation(),e.setState({showInteractions:!1})},topChildren:this.renderInteractions(C.top),centerChildren:this.renderInteractions(C.center),bottomChildren:this.renderInteractions(C.bottom)}))}}]),t}(a.Component);d.defaultProps={isFadeIn:!0,appType:"phone",scale:1,nextPage:null,firstPage:null,overlayPage:null,interactions:[],onLinkClick:null,onLinkFadeInEnd:null,onAnimationEnd:null,overlayAnimation:"",onLinkPan:null,onLinkPanDone:null,panState:"",delta:null,onTransitionEnd:null,options:{alwaysShowLinkArea:!1,mobileType:u.MobileType.iphoneX,showControllerPanel:!0,showLinkAreaWhenHovered:!0,showToolbar:!0,autoScreen:!1}},t.default=function(e){return a.createElement(l.default.Consumer,null,(function(t){var n=t.onAnimationEnd,o=t.onTransitionEnd,r=t.onLinkClick,i=t.onLinkFadeInEnd,l=t.onLinkPan,s=t.onLinkPanDone;return a.createElement(d,Object.assign({},e,{onAnimationEnd:n,onTransitionEnd:o,onLinkClick:r,onLinkFadeInEnd:i,onLinkPan:l,onLinkPanDone:s}))}))}},2010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(83),r=f(n(2018)),i=f(n(2019)),l=f(n(2020)),s=f(n(2021)),c=f(n(2022)),u=f(n(2023)),d=f(n(2024)),p=f(n(2025));function f(e){return e&&e.__esModule?e:{default:e}}var h={},g=function(e){var t=e.width;return{width:e.height,height:t}},m=function(e){var t=e.defaultScreenSize,n=e.shellSize,o=e.screenBounds,a=o.left,r=o.top,i=o.width,l=o.height;return{defaultScreenSize:g(t),shellSize:g(n),screenBounds:{left:r,width:l,height:i,top:n.width-a-i}}};h[a.MobileType.iphoneX]={defaultScreenSize:{width:375,height:812},shellImage:{landscape:i.default,portrait:r.default},shellSize:{width:1295,height:2590},screenBounds:{left:83,top:77,width:1125,height:2436}},h[a.MobileType.iphone]={defaultScreenSize:{width:375,height:667},shellImage:{landscape:s.default,portrait:l.default},shellSize:{width:871,height:1776},screenBounds:{left:61,top:219,width:750,height:1334}},h[a.MobileType.android]={defaultScreenSize:{width:360,height:640},shellImage:{landscape:u.default,portrait:c.default},shellSize:{width:1204,height:2458},screenBounds:{left:62,top:252,width:1080,height:1920}},h[a.MobileType.pad]={defaultScreenSize:{width:768,height:1024},shellImage:{landscape:p.default,portrait:d.default},shellSize:{width:1762,height:2496},screenBounds:{left:112,top:225,width:1537,height:2049}},t.default={getShellInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=h[e];if(n){var a=o({},h[e]);if(a){var r=a,i=r.shellImage;t&&(a=m(a));var l=a,s=l.defaultScreenSize,c=l.shellSize,u=l.screenBounds;return{defaultScreenSize:s,shellSize:c,screenBounds:u,shellImage:t?i.landscape:i.portrait}}}return null}}},2014:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ifShowHugePage=t.getBigPageRect=t.getBigPageParts=t.getViewPortRect=t.getParentGroups=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e,t){var n=t.movingPagesID,a=t.movingPageDelta,r=t.localStatePages,i=t.selectedPages,l=t.selectingPages,s=t.states;return function(e,t,n,a,r){return p(n),p(a),r.forEach((function(r){var i=r._id,l=r.pages,s=void 0===l?[]:l;if(s.length){var c=s[0];if(c){var u=e.find((function(e){return e._id===c._id}));if(u){u.stateID=i,u.guidePage=u;var p=null,f=null;if(n.length?f=d(u,s,n):a.length&&(f=d(u,s,a)),f)p=f;else{var h=(t[i]||{}).currentPage;h&&s.find((function(e){return!!e&&e._id===h._id}))&&(p=h)}(p=p?e.find((function(e){return e._id===p._id})):u).guidePage=u,u.currentPage=p,t[i]=u;var g=s.map((function(t,n){if(n&&t){var a=t._id,r=e.findIndex((function(e){return e._id===a})),l=e.splice(r,1);return o({},l[0],{stateID:i,guidePage:u,position:u.position})}return u}));u.groupPages=g}}}})),e}(function(e){for(var t=[],n=0,a=e.length;n<a;n+=1){var r=e[n];r.children?t.push(o({},r,{children:r.children,groupPages:[],guidePage:null})):t.push(o({},r,{groupPages:[],guidePage:null}))}return t}(e.map((function(e){return n.indexOf(e._id)>-1&&a?o({},e,{position:{x:e.position.x+a.x,y:e.position.y+a.y}}):e}))),r,i||[],l||[],s||[])},t.findParentGroup=f,t.findPageLevel=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{levels:[]},a=o;return a.flag=t.some((function(t){if(t.isGroup){var r=e(t.children,n,o);return r.flag&&r.levels.push(t),r.flag}return t.children?e(t.children,n,o).flag:t._id===n&&(a.levels.push(t),!0)})),a},t.isExistInGroup=function e(t,n){if(!n)return!1;return t.some((function(t){var o=t._id,a=t.children;return a&&a.length?e(a,n):o===n._id}))},t.inArrayFind=function e(t,n){for(var o=null,a=0,r=t.length;a<r;a+=1){var i=t[a];if(n(i))return i;var l=i.children;if(l&&l.length&&(o=e(l,n)),o)return o}return null},t.getPageDisplay=h,t.diffSelecedGroupsTransform=function(e,t,n,o){var a=t.scale,l=t.nodeBound,s=t.style,c=o?e:(0,i.getFlattenPages)(e);if(!c.length)return s;c=c.reduce((function(e,t){var o=t._id,a=n.find((function(e){var t=e.currentPage;return(void 0===t?e:t)._id===o}));return a&&e.push(a),e}),[]);var u=(0,r.getPagesBoundingRect)(c,a),d=u.left+u.width/2,p=u.top+u.height/2,f={left:-d+l.width/2,top:-p+l.height/2};if(c.some((function(e){return h(l,e,f,a,-50)})))return u.height>l.height&&(f.top-=(l.height-u.height-40)/2),f;var g=function(e,t,n,o){var a=e.left,r=e.top,i=a,l=r,s=Math.min(e.width,t.width),c=Math.min(e.height,t.height),u=i+e.width,d=l+e.height,p={right:i+s,bottom:l+u},f=[];for(;p.right<=u&&p.bottom<=d;){if(f.push(w(n,t,{left:-i,top:-l},o)),p.right===u){if(i=a,p.bottom===d)break;p.bottom+100>d?l=d-c:l+=d}else p.right+100>u?i=u-s:i+=100;p={right:i+s,bottom:l+c}}var h=null,g=0;return f.forEach((function(e){e.length>g&&(g=e.length,h=e)})),h}(u,l,c,a);if(g&&g.length){var m=(0,r.getPagesBoundingRect)(g,a),v=m.left+m.width/2,y=m.top+m.height/2;f={left:-v+l.width/2,top:-y+l.height/2}}return f};var a=n(174),r=n(542),i=n(58),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34)),s=n(261),c=n(173),u=n(18);n(135);function d(e,t,n){return n.find((function(n){var o=n._id;return t.some((function(t){return!!t&&(t._id===o&&(n.guidePage=e,n.stateID=e.stateID,!0))}))}))}function p(e){e.length&&e.forEach((function(e){delete e.stateID,delete e.guidePage,delete e.pageId,delete e.groupPages,delete e.currentPage}))}function f(e,t){return function e(t,n,o){for(var a=null,r=0,i=t.length;r<i;r+=1){var l=t[r];if(l.isGroup?a=e(l.children,n,l):l.children&&l.children.length&&(a=e(l.children,n,o)),l._id===n)return o;if(a)return a}return a}(e,t)}t.getParentGroups=function(e,t){var n=t.map((function(t){return f(e,t._id)}));return n.some((function(e){return void 0===e}))?[]:n.reduce((function(e,t){return!e.includes(t)&&t&&e.push(t),e}),[])};function h(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=o*(0,a.getPageScale)(t,"storyboard"),s=g(e,n,r),c=m(t,i,o);return l.rect.intersectRect(c,s)}var g=t.getViewPortRect=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)return null;var o=t.top,a=t.left;return{left:-a-n,top:-o-n,right:-a+e.width+n,bottom:-o+e.height+n}},m=function(e,t,n){var o=e.currentPage,a=void 0===o?e:o,r=e.position,i=a.size,l=(0,s.getPageRectTopOffset)(n);return{left:r.x*n,top:r.y*n-l,right:r.x*n+i.width*t,bottom:r.y*n+i.height*t-l}},v=(t.getBigPageParts=function(e,t,n,r){var i=t.parts;if(r!==c.AppWorkMode.Storyboard||!e)return i.map((function(e){return o({},e,{show:!0})}));var u=(0,a.getPageScale)(t,r)*n,d=v(t,u,n,r),p=e.top,f=e.right,h=e.bottom,g=e.left,m=f-g,w=h-p,y={top:p-w,right:f+m,bottom:h+w,left:g-m};return i.map((function(e){var t=0===e.position.y&&r===c.AppWorkMode.Storyboard?(0,s.getPageRectTopOffset)(n):0,a={left:d.left+e.position.x*u,top:d.top+e.position.y*u+t,right:d.left+(e.position.x+e.size.width)*u,bottom:d.top+(e.position.y+e.size.height)*u};return o({},e,{show:l.rect.intersectRect(a,y)})}))},t.getBigPageRect=function(e,t,n,o){if(o===c.AppWorkMode.Storyboard)return m(e,t,n);if(o===c.AppWorkMode.Preview)return{left:0,top:0,right:e.size.width*t,bottom:e.size.height*t};var a=document.querySelector(".c-workspace"),r=document.querySelector(".common-page");if(!a||!r)return{left:0,top:0,right:0,bottom:0};var i=r.getBoundingClientRect(),l=a.getBoundingClientRect();return{left:i.left-l.left,top:i.top-l.top,right:i.left-i.width,bottom:i.top-l.height}});t.ifShowHugePage=function(e){if((0,u.getDevicePixelRatio)()>1){if(e>.25)return!0}else if(e>.5)return!0;return!1};function w(e,t,n,o){return e.reduce((function(e,a){return h(t,a,n,o)&&e.push(a),e}),[])}},2015:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(2054);n(2055);var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.doExpandAllNode=function(e){return e.map((function(e){var t=Object.assign(Object.assign({},e),{expand:!0});return t.children&&t.children.length&&(t.children=n.doExpandAllNode(t.children)),t}))},n.handleNodeExpandChange=function(e){if(n.props.canExpand){var t=e;t.expand=!t.expand;var o=n.state.data,a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o));n.setState({data:a})}},n.handleNodeSelected=function(e){if(e._id&&!e.isGroup){var t=n.props.onPageSelected;t&&t(e._id)}},n.renderLinks=function(){var e=n.props.links;return e?a.createElement("div",{className:"links-container"},e.map((function(e){return a.createElement("div",{className:"tree-node"},a.createElement("div",{className:"tree-node-title link",onClick:function(t){t.stopPropagation(),n.handleNodeSelected(e)}},a.createElement("span",null,e.name)))}))):null};var o=n.doExpandAllNode(e.data);return n.state={data:o},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedID,o=t.cls,i=t.downArrowShow,l=this.state.data;return a.createElement("div",{className:"preview-tree-wrap "+o},this.renderLinks(),l&&l.map((function(t){return a.createElement(r.default,{key:t._id,page:t,downArrowShow:i,selID:n,onExpand:e.handleNodeExpandChange,onSelected:e.handleNodeSelected})})))}}]),t}(a.Component);i.defaultProps={selectedID:"",onPageSelected:null,canExpand:!0,cls:"",downArrowShow:!0},t.default=i},2016:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(98),i=n(8),l=n(2009),s=n(2015),c=n(2056),u=n(39),d=n(175);n(2059);var p=n(172),f=n(2005),h=n(2008),g=70,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleWindowTouchStart=function(){(0,n.props.onLinkAreaFadeInStart)()},n.handleToggleTree=function(){var e=n.state.showTree;n.setState({showTree:!e})},n.handleBallTouchStart=function(e){e.stopPropagation();var t=e.target,o=n.state.ballPoint,a=e.nativeEvent.targetTouches[0],r=a.pageX,i=a.pageY;n.setState({active:!0});var l=function(e){e.stopPropagation(),e.preventDefault();var t=e.targetTouches[0],a=t.pageX,l=t.pageY,s=a-r,c=l-i,u={right:o.right-s,bottom:o.bottom-c};n.setState({ballPoint:u})};t.addEventListener("touchmove",l),t.addEventListener("touchend",(function e(){var o=n.state.ballPoint,a=window.innerWidth-g,r=window.innerHeight-g,i=o.right>0,s=Object.assign({},o);o.right<=g/4&&(s.right=-g/2),o.right>a&&(s.right=a),o.bottom<0&&(s.bottom=0),o.bottom>r&&(s.bottom=r),n.setState({active:i,ballPoint:s}),t.removeEventListener("touchmove",l),t.removeEventListener("touchend",e)}))},n.state={showTree:!1,ballPoint:{right:-g/2,bottom:g},active:!1,showGuide:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){window.addEventListener("touchstart",this.handleWindowTouchStart)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("touchstart",this.handleWindowTouchStart)}},{key:"render",value:function(){var e=this.props,t=e.currentPage,n=e.loaded,o=e.app,l=e.onPageSelected,d=e.needPerspective,h=e.redirectTo,g=e.onMobileToggleTree,m=e.onMobileTouchStart,v=e.onMobileTouchMove,w=e.onMobileTouchEnd,y=e.showPhoneTree,b=this.state,P=b.active,E=b.ballPoint,S=b.showTree,k=(b.showGuide,n?o.children:null);if(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&!f.isPhoneIn&&!f.isLarkBrowser){var O=o.shareID;if(!sessionStorage.getItem("fromGuide"))return h("/run/"+O+"/guide/firstStep"),null}return a.createElement("div",{className:i.default("mobile-container",{perspective:d,childIsIframe:o.source===p.AppSource.Axure||o.source===p.AppSource.Mockplus}),onTouchStart:m,onTouchMove:v,onTouchEnd:w},this.renderPageContent(),f.isPhoneIn||f.isLarkBrowser?a.createElement("div",{className:i.default("tree-panel",{show:y,hide:!y}),onClick:g},k&&a.createElement(c.default,{data:k,homePageId:o.homepage,groupCount:o.groupCount,pageCount:o.pageCount,name:o.name,selectedID:t?t._id:null,onPageSelected:l})):a.createElement("div",{className:i.default("tree-panel",{show:S,hide:!S}),onClick:this.handleToggleTree},k&&a.createElement(s.default,{data:k,selectedID:t?t._id:null,onPageSelected:l})),!f.isPhoneIn&&!f.isLarkBrowser&&r.createPortal(a.createElement("div",{style:E,className:i.default("controller-ball",{active:P}),onClick:this.handleToggleTree,onTouchStart:this.handleBallTouchStart},a.createElement(u.Icon,{cls:"demo_control",size:"3.6rem"})),document.body))}},{key:"renderPageContent",value:function(){var e=this.props,t=e.interactions,n=e.currentPage,o=e.nextPage,r=e.linkFadeIn,i=e.overlayPage,s=e.overlayAnimation,c=e.preview,u=e.app;return n?u.source===p.AppSource.Axure?a.createElement(h.default,{dataURL:n.dataURL,preventEvents:!1,adjustBodyPosition:!1}):a.createElement(l.default,{appType:d.AppType.phone,interactions:t,firstPage:n,nextPage:o,overlayPage:i,isFadeIn:r,panState:c.panState,delta:c.delta,overlayAnimation:s}):null}}]),t}(a.Component);m.defaultProps={app:null,interactions:null,currentPage:null,nextPage:null,overlayPage:null,loaded:!1,linkFadeIn:!0,onLinkAreaFadeInStart:null,onPageSelected:null,needPerspective:!1,overlayAnimation:"",preview:null},t.default=m},2017:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(39),l=n(536),s=n(2006),c=n(2005),u=n(2026);n(2050);var d=n(173),p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.pageDiv=r.createRef(),n.onMoveStart=function(e){var t=n.props,o=t.page,a=t.onPagePan,r=t.onPagePanDone,i=t.isOverlay,l=o.onLoaded.gesture,s=!l||-1===l.indexOf("swipe")||i||-1!==e.target.className.indexOf("link-hot");c.moveStart(e,l,(function(e){s||a(e)}),(function(e){s||r(e)}))},n.setTimming=function(e){n.isTiming=e},n.handlePageGesture=function(e,t,o){e&&!n.isTiming?(n.setTimming(!0),setTimeout((function(){n.setTimming(!1),o(t.type)}),e)):n.isTiming||o(t.type)},n.isTiming=!1,n.handleOnScroll=n.handleOnScroll.bind(n),n.state={scrollLeft:0,scrollTop:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;if(this.pageDiv.current){var t=new Hammer(this.pageDiv.current),n=this.props,o=n.onPageGesture,a=n.page,r=n.isOverlay,i=n.pageWhetherExist,s=a.onLoaded,u=s.delay,d=s.target,p=s.gesture;if(i(d)&&(t.get("swipe").set({velocity:.1}),p)){if("doubleClick"===p)return void t.on("tap",(function(t){-1===t.target.className.indexOf("link-hot")&&2===t.tapCount&&e.handlePageGesture(u,t,o)}));var f=p;p.indexOf("swipe")>-1&&(c.getGestureDirection(p)===l.VERTICAL&&t.get("swipe").set({direction:Hammer.DIRECTION_ALL}),r||(p="pan")),t.on(""+p,(function(t){-1===t.target.className.indexOf("link-hot")&&f===p&&e.handlePageGesture(u,t,o)}))}}}},{key:"componentDidUpdate",value:function(e){var t=this.props.page;!this.scrollNode||e.page&&t._id===e.page._id||(this.scrollNode.scrollTop(0),this.scrollNode.scrollLeft(0))}},{key:"handleOnScroll",value:function(){this.scrollNode&&this.setState({scrollTop:this.scrollNode.getScrollTop(),scrollLeft:this.scrollNode.getScrollLeft()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.page,a=t.className,l=t.onAnimationEnd,s=t.topChildren,c=t.bottomChildren,p=t.centerChildren,f=t.onTransitionEnd;if(n){var h=this.props.style||{},g=["preview-page"];if(a)if(Array.isArray(a))g=g.concat(a);else if("string"==typeof a)g.push(a);else if("object"===(void 0===a?"undefined":o(a))){Object.keys(a).forEach((function(e){g.push(a[e])}))}var m=h.width,v=n.clipArea,w=n.size,y=(v?v.top:0)*w.height,b=(v?v.bottom:0)*w.height,P=w.height-y-b,E=m?m/w.width:1,S=Math.round(y*E),k=Math.round(b*E),O=Math.round(P*E),T=this.centerDiv?this.centerDiv.getBoundingClientRect().height:0;return r.createElement("div",{onAnimationEnd:l,onTransitionEnd:f,style:Object.assign({},h),onTouchStart:this.onMoveStart,onMouseDown:this.onMoveStart,className:g.join(" "),ref:this.pageDiv},S>0&&r.createElement("div",{className:"page-fragment top-fragment",style:{width:m,height:S}},r.createElement(u.default,{page:n,zoom:E,scale:E,containerHeight:S,containerWidth:m,scrollLeft:0,scrollTop:0,mode:d.AppWorkMode.Preview,viewPortRect:{left:0,top:0,right:m,bottom:S}},s)),r.createElement("div",{ref:function(t){e.centerDiv=t},className:"page-fragment center-fragment",style:{flex:1}},r.createElement(i.ScrollView,{setRef:function(t){e.scrollNode=t},onScroll:this.handleOnScroll},r.createElement("div",{className:"center-content",style:{width:m,height:O}},r.createElement(u.default,{page:n,zoom:E,scale:E,containerHeight:O,containerWidth:m,scrollLeft:0,scrollTop:0,style:{top:-S},mode:d.AppWorkMode.Preview,viewPortRect:{left:0,top:S+this.state.scrollTop,right:m,bottom:S+this.state.scrollTop+T},isPreviewPage:!0},p)))),k>0&&r.createElement("div",{className:"page-fragment bottom-fragment",style:{width:m,height:k}},r.createElement(u.default,{page:n,zoom:E,scale:E,containerHeight:k,containerWidth:m,scrollLeft:0,scrollTop:0,isPreviewPage:!0,mode:d.AppWorkMode.Preview,viewPortRect:{left:0,top:S+O,right:m,bottom:S+O+k}},c)))}return null}}]),t}(r.Component);p.defaultProps={page:null,className:null,style:null,onAnimationEnd:null,topChildren:null,bottomChildren:null,centerChildren:null,onPageGesture:null,onTransitionEnd:null,onPagePan:null,onPagePanDone:null,isOverlay:!1,pageWhetherExist:null},t.default=function(e){return r.createElement(s.default.Consumer,null,(function(t){var n=t.onPagePan,o=t.onPagePanDone,a=t.onPageGesture,i=t.pageWhetherExist;return r.createElement(p,Object.assign({},e,{onPagePan:n,onPagePanDone:o,onPageGesture:a,pageWhetherExist:i}))}))}},2018:function(e,t,n){e.exports=n.p+"assets/portrait.4fe0a793df2cf3e8cd354d23e6dd52fc.svg"},2019:function(e,t,n){e.exports=n.p+"assets/landscape.d5c42224fb956abee998a3eb82df7326.svg"},2020:function(e,t,n){e.exports=n.p+"assets/portrait.b5f1b3bd51a67f521d23f88af88cff91.svg"},2021:function(e,t,n){e.exports=n.p+"assets/landscape.ce4511525fab7b4428567a437b382cc0.svg"},2022:function(e,t,n){e.exports=n.p+"assets/portrait.0d6c710e27ffcfedaec4a4549a507043.svg"},2023:function(e,t,n){e.exports=n.p+"assets/landscape.ae453263c4c909bffd520ec9d6352c15.svg"},2024:function(e,t,n){e.exports=n.p+"assets/portrait.42374cb872698581765e1ef497c4f8f2.svg"},2025:function(e,t,n){e.exports=n.p+"assets/landscape.23e899148df0b5e8531bd80e98d59036.svg"},2026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2027),r=n(2008),i=n(2042),l=n(2044);n(2049);var s=/http\:\/\/mockplus-static\.oss-cn-hangzhou\.aliyuncs\.com\//gi,c=function(e){var t=e.page,n=e.zoom,c=e.children,u=e.containerHeight,d=e.containerWidth,p=e.scrollTop,f=e.scrollLeft,h=(e.saveCanvasParts,e.isPreviewPage),g=e.style,m=e.scale,v=e.mode,w={width:Math.round(t.size.width*n),height:Math.round(t.size.height*n)};return"axure"===t.type?o.createElement("div",{className:"common-page",style:w},o.createElement("div",{className:"special-page-wrapper",style:{width:t.size.width,height:t.size.height,transform:"scale("+e.zoom+")",transformOrigin:"top left"}},o.createElement(r.default,{dataURL:t.dataURL,preventEvents:!0,adjustBodyPosition:!0})),c):"mockplus"===t.type?o.createElement("div",{className:"common-mk-page",style:w},o.createElement("div",{className:"special-page-wrapper",style:{width:t.size.width,height:t.size.height,transform:"scale("+e.zoom+")",transformOrigin:"top left"}},o.createElement(l.default,{ID:t._id,page:t,scale:e.zoom,isInApp:e.isInApp})),c):"rp"===t.type?o.createElement("div",{className:"common-page",style:w},o.createElement("div",{className:"special-page-wrapper",style:{width:t.size.width,height:t.size.height,transform:"scale("+e.zoom+")",transformOrigin:"top left"}},o.createElement(i.default,{dataURL:t.dataURL,preventEvents:!0})),c):o.createElement(o.Fragment,null,o.createElement("div",{className:"common-page",style:Object.assign({},w,g)},o.createElement(a.default,{imageURL:t.imageURL.replace(s,"https://img02.mockplus.cn/"),containerHeight:u,containerWidth:d,scrollLeft:f,scrollTop:p,zoom:n,scale:m,isCutted:t.isCutted,parts:t.parts,size:t.size,page:t,mode:v,viewPortRect:e.viewPortRect,viewSize:w}),!h&&c),h&&c)};c.defaultProps={isInApp:!0,isPreviewPage:!1,style:{}},t.default=c},2027:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(2007),i=n(2036),l=n(2037),s=n(2014),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.zoom;return n.state={isShowHugePage:s.ifShowHugePage(o),imageLoaded:!1},n.debounceGetShow=r(n.getShowHugepage,500),n.onImageLoaded=n.onImageLoaded.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.zoom;t!==e.zoom&&this.debounceGetShow(t)}},{key:"getShowHugepage",value:function(e){this.setState({isShowHugePage:s.ifShowHugePage(e)})}},{key:"onImageLoaded",value:function(e){this.setState({imageLoaded:e})}},{key:"render",value:function(){var e=this.props,t=e.isCutted,n=e.imageURL,o=e.zoom,r=e.size,s=e.scale,c=e.page,u=e.mode,d=e.viewSize,p=e.viewPortRect,f=this.state,h=f.isShowHugePage,g=f.imageLoaded,m=r.width*r.height>1e6;if(t){var v=h||!h&&!g;return a.createElement("div",null,a.createElement("div",{style:{display:v?"block":"none"}},a.createElement(l.default,{page:c,zoom:o,scale:s,mode:u,viewPortRect:p})),a.createElement("div",{style:{display:v?"none":"block"}},a.createElement(i.default,{key:n,imageURL:n,zoom:o,viewSize:d,isBigImg:r.width>1e4||r.height>1e4,canLoadThumb:m,onImageLoaded:this.onImageLoaded})))}return a.createElement(i.default,{key:n,imageURL:n,zoom:o,viewSize:d,isBigImg:r.width>1e4||r.height>1e4,canLoadThumb:m,onImageLoaded:this.onImageLoaded})}}]),t}(a.Component);c.defaultProps={isCutted:!1},t.default=c},2036:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(135),i=n(32),l=n(2007),s=function(e,t,n){return n?r.getStyledImage(e,"!thumb-p-25"):c(e,t)},c=function(e,t){if(i.getDevicePixelRatio()>1){if(t<.25)return r.getStyledImage(e,"!thumb-p-50")}else{if(t<.25)return r.getStyledImage(e,"!thumb-p-25");if(t<.5)return r.getStyledImage(e,"!thumb-p-50")}return e},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTargetImageLoaded=function(){n.setState({showTargetImage:!0}),n.props.onImageLoaded(!0)},e.canLoadThumb?n.state={showTargetImage:!1,targetImageURL:s(e.imageURL,e.zoom,e.isBigImg)}:n.state={showTargetImage:!0,targetImageURL:e.imageURL},n.debouncedLoadNewImage=l(n.loadNewImage,500),n.onTargetImageLoaded=n.onTargetImageLoaded.bind(n),n.renderSVG=n.renderSVG.bind(n),n.renderImage=n.renderImage.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidUpdate",value:function(e,t){e.imageURL!==this.props.imageURL?this.loadNewImage():this.debouncedLoadNewImage()}},{key:"loadNewImage",value:function(){var e=this.props,t=e.imageURL,n=e.zoom,o=e.canLoadThumb,a=e.isBigImg,r=e.onImageLoaded,i=o?s(t,n,a):t;i!==this.state.targetImageURL&&(this.setState({targetImageURL:i,showTargetImage:!1}),r(!1))}},{key:"renderSVG",value:function(){var e=this.props.imageURL;return a.createElement("div",{className:"sgv-content",style:{backgroundImage:"url("+e+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"100%",height:"100%",position:"absolute"}})}},{key:"renderImage",value:function(){var e=this.props,t=e.imageURL,n=e.isBigImg,o=this.state,i=o.targetImageURL,l=o.showTargetImage,s=r.getStyledImage(t,"!thumb-p-25");return n?a.createElement("img",{className:"common-img",src:i,style:Object.assign({},this.props.viewSize,{display:l?"block":"none"}),onLoad:this.onTargetImageLoaded}):a.createElement("div",null,a.createElement("img",{className:"common-img",src:s,style:Object.assign({},this.props.viewSize,{display:l?"none":"block"})}),a.createElement("img",{className:"common-img",src:i,style:Object.assign({},this.props.viewSize,{display:l?"block":"none"}),onLoad:this.onTargetImageLoaded}))}},{key:"render",value:function(){return-1!==this.props.imageURL.indexOf(".svg")&&i.isIE?this.renderSVG():this.renderImage()}}]),t}(a.PureComponent);t.default=u},2037:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(8),i=n(2007),l=n(2014),s=n(135);n(2038);var c=n(2039),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.page,a=e.scale,r=e.mode,s=e.viewPortRect;return n.state={imgShowList:o.parts.map((function(){return{thumbShow:!0}})),showParts:l.getBigPageParts(s,o,a,r)},n.debounceGetShowParts=i(n.getShowParts,500),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.loadNewImg()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.page,o=t.scale,a=t.viewPortRect;if(n._id!==e.page._id&&this.loadNewImg(),a&&e.viewPortRect){var r=e.viewPortRect,i=r.top,l=r.right,s=r.bottom,c=r.left;o===e.scale&&a.top===i&&a.right===l&&a.bottom===s&&a.left===c||this.debounceGetShowParts()}}},{key:"getShowParts",value:function(){var e=this.props,t=e.page,n=e.scale,o=e.mode,a=e.viewPortRect;this.setState({showParts:l.getBigPageParts(a,t,n,o)})}},{key:"loadNewImg",value:function(){var e=this.props.page;this.setState({imgShowList:e.parts.map((function(){return{thumbShow:!0}}))})}},{key:"onTargetImageLoaded",value:function(e){var t=this.state.imgShowList;this.setState({imgShowList:t.map((function(t,n){return e===n?{thumbShow:!1}:t}))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.page,o=t.zoom,i=t.viewPortRect,l=this.state,u=l.imgShowList,d=l.showParts;return i&&n&&n.parts?a.createElement("div",{className:r.default("c-huge-page")},d.map((function(t,n){return t.show?a.createElement(a.Fragment,{key:t.imageURL+"-fragment"},u[n]&&u[n].thumbShow&&a.createElement(c.default,{key:t.imageURL+"-thumb",src:s.getStyledImage(t.imageURL,"!thumb-p-25"),style:{position:"absolute",left:t.position.x*o,top:t.position.y*o,width:t.size.width*o,height:t.size.height*o}}),a.createElement("img",{class:r.default("huge-img"),key:t.imageURL+"-target",src:t.imageURL,className:"common-img",style:{position:"absolute",left:t.position.x*o,top:t.position.y*o,width:t.size.width*o,height:t.size.height*o,display:u[n]&&u[n].thumbShow?"none":"block"},onLoad:function(t){e.onTargetImageLoaded(n)}})):null}))):null}}]),t}(a.Component);t.default=u},2038:function(e,t,n){},2039:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);n(2040);var r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loaded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.src,o=t.style;return this.state.loaded?a.createElement("img",{src:n,style:o||null,onLoad:function(){e.setState({loaded:!0})}}):a.createElement("div",{className:"lazy-image-content"})}}]),t}(a.Component);t.default=r},2040:function(e,t,n){},2041:function(e,t,n){},2042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(2043);var a=o.memo((function(e){return e.dataURL?o.createElement("iframe",{className:"rp-page",src:e.dataURL,loading:"lazy",style:{pointerEvents:e.preventEvents?"none":"unset"}}):null}));t.default=a},2043:function(e,t,n){},2044:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(543)({loader:function(){return Promise.resolve().then((function(){return n(2045)}))},loading:n(544).default});t.default=function(e){return o.createElement(a,Object.assign({},e))}},2045:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);n(2046);var r=n(2047),i=n(538),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.self=a.createRef(),n.doCheckInView=function(){if(n.self.current){var e=window,t=e.innerHeight,o=e.innerWidth,a=n.self.current.getBoundingClientRect(),r=a.left,i=a.top,l=a.right,s=a.bottom,c=a.width,u=a.height,d=!(r>o||l<0||i>t||s<0||0===c||0===u);d!==n.state.inView&&n.setState({inView:d})}},n.doReconstruction=function(e){if(e){var t=e.ID,o=e.name,a=e.controls,r={ID:t,name:o,size:e.size,loaded:!0,controls:[]};r.controls=function e(t){return t.map((function(t){var n={data:t,dynamicProperties:{}};return t.children&&(n.isGroup=!0,n.children=e(t.children)),n}))}(a),r.param=e.param,n.setState({pageData:r})}else n.setState({pageData:void 0})},n.doLoadPage=function(e){var t=e.clientID||e.offlineDemoNodeID;e.loaded||i.TaskManager.taskManager.push((function(o){i.default.loadPageData(t,e.dataURL,(function(e,a){a?i.default.parsePage(t,a,(function(e){e.error||n.doReconstruction(e.content),o()})):o()}))}))},n.renderComponent=function(e){var t=void 0,o=e.data;return e.isGroup&&(t=e.children),a.createElement(r.default,{key:o.controlID,data:e},t&&t.map((function(e){return n.renderComponent(e)})))},n.state={inView:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isInApp&&this.doLoadPage(this.props.page)}},{key:"componentDidUpdate",value:function(e){this.props.isInApp&&this.props.page.dataURL!==e.page.dataURL&&this.doLoadPage(this.props.page)}},{key:"componentWillReceiveProps",value:function(e){this.props.page.dataURL!==e.page.dataURL||this.props.page.pageData!==e.page.pageData||e.page.pageData&&!this.state.pageData?this.doReconstruction(e.page.pageData):this.state.pageData||e.page.loaded||this.doLoadPage(e.page)}},{key:"renderPage",value:function(){var e=this,t=this.state.pageData;if(!t)return null;var n="white";return t.param&&(n=t.param.backgroundColor),a.createElement("div",{key:t.ID,style:{width:t.size.w,height:t.size.h,background:n}},a.createElement("div",null,t&&t.controls.map((function(t){return e.renderComponent(t)}))))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.className;return a.createElement("div",{ref:this.self,id:this.props.ID,style:t,className:"prototype-page "+(n||"")},this.renderPage())}}]),t}(a.Component);l.defaultProps={isInApp:!0},t.default=l},2046:function(e,t,n){},2047:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);n(2048);var r=n(6),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.selfRef=a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.data.data!==e.data.data}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.children,o=t.data,i=o.controlTypeID,l=o.controlID;if(!r.default.PropertiesHelper.getFullProperties(t).isShow)return null;var s=r.default.ComponentFactory.createComponent(i),c=r.default.StyleHelper.init(t).bounds().opacity().style,u=r.default.ComponentFactory.getComponentClassName(i);return a.createElement("div",{id:t.data.controlID,datatype:t.data.controlTypeID,style:c,className:"prototype-component"},s&&a.createElement(s,Object.assign({key:l},t,{className:u}),n))}}]),t}(a.Component);i.defaultProps={},t.default=i},2048:function(e,t,n){},2049:function(e,t,n){},2050:function(e,t,n){},2051:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(8),i=n(2052),l=n(2005),s=n(83),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.interactions,n=e.options,o=e.appType,c=e.page,u=e.fadeIn,d=e.scale,p=e.onFadeInEnd,f=e.onInteractionClick,h=e.onInteractionPan,g=e.onInteractionPanDone,m=e.overlayPage,v=c.landscape,w=c.size,y=n.mobileType,b=n.alwaysShowLinkArea,P=n.showLinkAreaWhenHovered;return a.createElement(a.Fragment,null,t.map((function(e){if(e.type===s.externalLink&&!e.target)return null;var t=e.size,n=e.position,c=l.calculateInteractionSize({appType:o,mobileType:y,landscape:v,position:n,size:t,pageSize:w,scale:d}),E=r.default("link-hot",{hovered:!b&&P,hidden:!b&&!u,normal:"web"===o,"link-hot-fade":!b&&u});return a.createElement(i.default,{key:e._id,style:c,interaction:e,clz:E,onAnimationEnd:p,onClick:f,onPan:h,onPanDone:g,overlayPage:m})})))}}]),t}(a.Component);c.defaultProps={fadeIn:!1,scale:1,options:{alwaysShowLinkArea:!0,showLinkAreaWhenHovered:!0,mobileType:s.MobileType.iphoneX},overlayPage:null},t.default=c},2052:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(2053),i=n(537),l=n(536),s=n(2005),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.interactionDiv=a.createRef(),n.onMoveStart=function(e){e.preventDefault();var t=n.props,o=t.interaction,a=t.onPan,r=t.onPanDone,i=t.overlayPage,l=o.gesture||"tap";!l||-1===l.indexOf("swipe")||i||s.moveStart(e,l,(function(e){a(e,o)}),(function(e){r(e,o)}))},n.setTiming=function(e){n.isTiming=e},n.handleOnClick=function(e,t,o,a){e&&!n.isTiming?(n.setTiming(!0),setTimeout((function(){n.setTiming(!1),a(t,o)}),e)):n.isTiming||a(t,o)},n.isTiming=!1,n.state={touchAction:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.interaction,o=t.onClick,a=t.overlayPage,i=new r(this.interactionDiv.current),c=n.gesture||"tap";"swipeup"===c?this.setState({touchAction:"pan-up"}):"swipedown"===c?this.setState({touchAction:"pan-down"}):this.setState({touchAction:"auto"});var u=n.delay||0;if(i.get("swipe").set({velocity:.1}),i.set({domEvents:!0}),"doubleClick"===c)i.on("tap",(function(t){2===t.tapCount&&e.handleOnClick(u,t,n,o)}));else if("hover"===c)this.interactionDiv.current.addEventListener("mouseenter",(function(t){e.handleOnClick(u,t,n,o)}),!1);else{var d=c;c.indexOf("swipe")>-1&&(s.getGestureDirection(c)===l.VERTICAL&&i.get("swipe").set({direction:r.DIRECTION_ALL}),a||(c="pan")),i.on(""+c,(function(t){d===c&&e.handleOnClick(u,t,n,o)}))}}},{key:"componentWillUnmount",value:function(){this.interactionDiv.current.removeEventListener("mouseenter",this.handleOnClick.bind(this))}},{key:"render",value:function(){var e=this.props,t=e.clz,n=e.onAnimationEnd,o=e.interaction,r=this.props.style,l=o.gesture||"tap",s=r.width<32||r.height<32?{display:"none"}:null,c=i.AllTriggerType[l],u=r.width>=32&&r.height>=32&&c&&c.icon;return this.state.touchAction&&(r=Object.assign(Object.assign({},r),{touchAction:this.state.touchAction})),a.createElement(a.Fragment,null,a.createElement("div",{style:r,className:t,"data-type":"interaction",onAnimationEnd:n,ref:this.interactionDiv,onClick:function(e){e.stopPropagation()},onTouchStart:this.onMoveStart,onMouseDown:this.onMoveStart},u&&a.createElement("img",{src:c.icon,style:s,alt:l})))}}]),t}(a.Component);t.default=c},2054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(8),r=n(39),i=function e(t){var n=t.page,i=t.selID,l=t.onExpand,s=t.onSelected,c=t.offset,u=void 0===c?0:c,d=t.downArrowShow,p=n.children,f=n.name,h=n.expand,g=n._id,m=n.color,v=n.icon,w=n.isGroup,y=!(w||p&&0!==p.length);return o.createElement("div",{key:g,className:"tree-node",style:{position:"relative",right:0}},o.createElement("div",{className:a.default("tree-node-title",{selected:g===i}),onClick:function(){s(n)},style:{paddingLeft:u}},o.createElement("span",{onClick:function(e){e.stopPropagation(),y||l(n)}},o.createElement("svg",{viewBox:"0 0 8 8",style:d?null:{visibility:"hidden"}},o.createElement("path",{className:a.default("path",{leaf:y}),d:h?"M0 2 H8 L4 6 Z":"M2 0 V8 L6 4 Z"}))),w&&o.createElement(r.Icon,{cls:h?"tree_index":"tree_group"}),!w&&v&&o.createElement(r.Icon,{cls:v,color:m}),!w&&!v&&m&&o.createElement("div",{className:"default-icon",style:{background:m}}),o.createElement("span",{className:a.default("tree-node-title-name",{"click-able":!w})},f)),h&&p&&o.createElement("div",{className:a.default("tree-node-content",{expand:h})},p&&p.map((function(t){return o.createElement(e,{key:t._id,page:t,selID:i,onExpand:l,onSelected:s,offset:u+16,downArrowShow:d})}))))};i.defaultProps={page:null,selID:null,onExpand:null,onSelected:null,offset:0,downArrowShow:!0},t.default=i},2055:function(e,t,n){},2056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),i=p(r),l=p(n(4)),s=p(n(2057)),c=n(39),u=n(2005),d=p(n(9));function p(e){return e&&e.__esModule?e:{default:e}}n(2058);var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));h.call(n);var o=n.doExpandAllNode(e.data);return n.state={data:o},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedID,o=t.cls,a=t.downArrowShow,r=t.links,l=t.homePageId,p=t.groupCount,f=t.pageCount,h=t.name,g=this.state.data;var m,v,w,y,b=(m=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,v=window.devicePixelRatio||1,w=window.screen.width*v,y=window.screen.height*v,!!(m&&1125===w&&2436===y||m&&828===w&&1792===y||m&&1242===w&&2688===y));return i.default.createElement("div",{className:"phone-preview-tree "+o,style:{paddingTop:b?"120px":"80px"}},i.default.createElement("div",{className:"tree-head",style:{top:b?"30px":"0px"}},i.default.createElement("div",{className:"tree-head-wrap"},i.default.createElement("div",{className:"logo"},i.default.createElement("div",{className:"icon iconfont icon-_logo"})),i.default.createElement("div",{className:"text"},i.default.createElement("span",null,h),i.default.createElement("p",null,(0,d.default)("appManager.countLabel",p,f))),!u.isLarkApplets&&i.default.createElement("div",{className:"share",onClick:this.shareApp},i.default.createElement("div",{className:"icon-_demo_share iconfont"})))),i.default.createElement("div",{className:"tree-wrap"},this.renderLinks(r),g&&g.map((function(t){return i.default.createElement(s.default,{key:t._id,page:t,homePageId:l,downArrowShow:a,selID:n,onExpand:e.handleNodeExpandChange,onSelected:e.handleNodeSelected})}))),i.default.createElement("div",{className:"tree-exit-preview"},i.default.createElement("div",{className:"tree-exit",style:{border:"none"}},i.default.createElement(c.Button,{width:"100%",onClick:this.exitPreview},(0,d.default)("preview.exit")))))}}]),t}(r.Component),h=function(){var e=this;this.doExpandAllNode=function(t){return t.map((function(t){var n=o({},t,{expand:!0});return n.children&&n.children.length&&(n.children=e.doExpandAllNode(n.children)),n}))},this.handleNodeExpandChange=function(t){if(e.props.canExpand){var n=t;n.expand=!n.expand;var o=e.state.data,a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o));e.setState({data:a})}},this.handleNodeSelected=function(t){if(t._id&&!t.isGroup){var n=e.props.onPageSelected;n&&n(t._id)}},this.renderLinks=function(){var t=e.props.links;return t?i.default.createElement("div",{className:"links-container"},t.map((function(t){return i.default.createElement("div",{className:"tree-node"},i.default.createElement("div",{className:"tree-node-title link",onClick:function(n){n.stopPropagation(),e.handleNodeSelected(t)}},i.default.createElement("span",null,t.name)))}))):null},this.exitPreview=function(){u.isLarkApplets?tt&&tt.miniProgram&&tt.miniProgram.navigateBack&&tt.miniProgram.navigateBack():u.isLarkBrowser?window.h5sdk&&window.h5sdk.ready((function(){window.h5sdk.biz.navigation.close({})})):window.ReactNativeWebView&&window.ReactNativeWebView.postMessage("exit")},this.shareApp=function(){window.ReactNativeWebView&&window.ReactNativeWebView.postMessage("share")}};f.propTypes={data:l.default.arrayOf(l.default.shape({})).isRequired,selectedID:l.default.string,onPageSelected:l.default.func,canExpand:l.default.bool,cls:l.default.string,downArrowShow:l.default.bool},f.defaultProps={selectedID:"",onPageSelected:null,canExpand:!0,cls:"",downArrowShow:!0},t.default=f},2057:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),a=l(n(4)),r=l(n(8)),i=n(39);function l(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var n=t.page,a=t.selID,l=t.onExpand,s=t.onSelected,c=t.offset,u=void 0===c?0:c,d=t.downArrowShow,p=t.homePageId,f=n.children,h=n.name,g=n.expand,m=n._id,v=n.color,w=n.icon,y=n.isGroup,b=!(y||f&&0!==f.length),P=n._id===p;return o.default.createElement("div",{key:m,className:"tree-node",style:{position:"relative",right:0}},o.default.createElement("div",{className:(0,r.default)("tree-node-title",{selected:m===a}),onClick:function(e){y?(e.stopPropagation(),b||l(n)):s(n)},style:{paddingLeft:u}},!y&&o.default.createElement("span",{className:f.length<1&&P?"no-child":null,onClick:function(e){e.stopPropagation(),b||l(n)}},o.default.createElement("svg",{viewBox:"0 0 8 8",style:d?null:{visibility:"hidden"}},o.default.createElement("path",{className:(0,r.default)("path",{leaf:b}),d:g?"M0 2 H8 L4 6 Z":"M2 0 V8 L6 4 Z"}))),P&&o.default.createElement(i.Icon,{cls:"broad_home"}),y&&o.default.createElement(i.Icon,{cls:g?"tree_index":"tree_group",color:"#222"}),!y&&w&&o.default.createElement(i.Icon,{cls:w,color:v}),!y&&!w&&v&&o.default.createElement("div",{className:"default-icon ",style:{background:v}}),o.default.createElement("span",{className:"tree-node-title-name"},h)),g&&f&&o.default.createElement("div",{className:(0,r.default)("tree-node-content",{expand:g})},f&&f.map((function(t){return o.default.createElement(e,{key:t._id,page:t,selID:a,onExpand:l,homePageId:p,onSelected:s,offset:u+24,downArrowShow:d})}))))};s.propTypes={page:a.default.shape({}),selID:a.default.string,onExpand:a.default.func,onSelected:a.default.func,offset:a.default.number,downArrowShow:a.default.bool},s.defaultProps={page:null,selID:null,onExpand:null,onSelected:null,offset:0,downArrowShow:!0},t.default=s},2058:function(e,t,n){},2059:function(e,t,n){},2060:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(40),i=n(39),l=n(2061),s=n(2064),c=n(2066),u=n(2068),d=n(2009),p=n(58),f=n(83),h=n(172),g=n(2008),m=n(2070);n(2072);var v=n(177),w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shell=a.createRef(),n.contextDom=a.createRef(),n.receiverMessage=function(e){var t=e.data.resize,o=n.state.scale,a=o;if(o<.1&&t>0||o>4&&t<0)return null;var r=Math.min(Math.pow(100*o/50,1.7)+4,Math.pow(100*o/30,2)+2);a=t<0?o+r/100:o-r/100,a=Math.min(4,Math.max(.1,a)),e.data&&e.data.resize&&n.setState({scale:a})},n.onContextMenu=function(e){e.preventDefault()},n.onToggled=function(){n.shell.current&&n.shell.current.calculatePoint()},n.onExit=function(){var e=n.props,t=e.app,o=e.mode,a=e.redirectTo,r=e.currentPage,i=e.onSelectPage,l=e.loadApp,s=e.user,c=e.isFromApps;if(s.user){var u="/app/"+r.appID+"/"+o;v.needAPageMode(o)&&(u=u+"/"+r._id),c&&(u="/team/"+t.teamID,t.appSetID&&(u+="/AppSet/"+t.appSetID));try{a(u),setTimeout((function(){l(r.appID,r._id),i(r._id)}))}catch(e){window.history.go(-1)}}else window.history.go(-1)},n.onChangeScale=function(e){n.setState({scale:e})},n.doInitPreviewOptions=function(){var e=n.props,t=e.app;if(e.loaded&&t){var o={showLinkAreaWhenHovered:t.showLinkAreaWhenHovered,alwaysShowLinkArea:t.alwaysShowLinkArea,mobileType:t.mobileType,showControllerPanel:t.showControllerPanel,showToolbar:t.showToolbar,autoScreen:t.autoScreen};n.setState({previewOptions:o})}},n.doInitTreeData=function(){var e=n.props,t=e.app,o=e.loaded,a=n.state.treeData;o&&t&&!a&&n.setState({treeData:t.children})},n.autoScale=function(){n.setState({scale:1})},n.doZoom=function(e){n.setState({scale:e/100})},n.handleWindowMouseDown=function(){var e=n.state.previewOptions,t=n.props.onLinkAreaFadeInStart;e&&!e.alwaysShowLinkArea&&t()},n.handleSwitchControlPanelVisible=function(){var e=n.state.previewOptions;e.showControllerPanel=!e.showControllerPanel,n.setState({previewOptions:e})},n.shellDom=a.createRef(),n.isFirstLoaded=!0,n.state={scale:1,treeData:null,previewOptions:{alwaysShowLinkArea:!0,mobileType:f.MobileType.iphone,showControllerPanel:!0,showLinkAreaWhenHovered:!0,showToolbar:!0,autoScreen:!0}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){window.addEventListener("mousedown",this.handleWindowMouseDown),window.addEventListener("contextmenu",this.onContextMenu),this.doInitPreviewOptions(),this.doInitTreeData(),window.addEventListener("message",r.throttle(this.receiverMessage,66))}},{key:"componentDidUpdate",value:function(){if(this.isFirstLoaded){var e=this.props,t=e.loaded,n=e.currentPage,o=e.onPreLoadImage;if(t){var a=this.props.app;if(0===p.getFlattenPages(a.children).length)return;this.isFirstLoaded=!1,this.doInitPreviewOptions(),o(n._id),this.doInitTreeData()}}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousedown",this.handleWindowMouseDown),window.removeEventListener("contextmenu",this.onContextMenu),window.removeEventListener("message",this.receiverMessage);var e=this.props.onUnmount;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPage,o=t.app,r=t.preview,i=t.goBackWard,u=t.goForWard,d=t.goHome,p=t.onPageSelected,f=t.controlPanelType,g=t.onClickInviteOk,m=t.goPrevPage,v=t.goNextPage,w=t.notFromInvitation,y=t.isInApp,b=this.state,P=b.previewOptions,E=b.scale,S=b.treeData;if(!P||!r||!S)return null;var k=n?n._id:"",O=!r.license||"free"===r.license.license;return a.createElement(l.default,{className:"hot-keys-container",keyDownHandlers:{escape:this.onExit,arrowleft:i,arrowright:u,arrowup:m,arrowdown:v},keyUpHandlers:{}},a.createElement("div",{className:"c-preview"},a.createElement(s.default,{isShow:P.showControllerPanel,isFree:O,name:o.name,appType:o.appType,options:P,onOptionsChanged:function(t){e.setState({previewOptions:t})},onClose:this.handleSwitchControlPanelVisible,data:S,selectedID:k,onPageSelected:p,onToggled:this.onToggled,controlPanelType:f,onClickInviteOk:g,teamName:o.teamName,notFromInvitation:w,showOptions:o.source===h.AppSource.Default}),this.renderPreviewContent()),a.createElement(c.default,{isShow:P.showToolbar,showControllerPanel:P.showControllerPanel,appType:o.appType,scale:100*E,canBack:r.hasBack,canNext:r.hasNext,onToggleControllerPanelVisible:this.handleSwitchControlPanelVisible,onBackWard:i,onForWard:u,onGoHome:d,onZoomChange:this.doZoom,onExit:this.onExit,zip:r.zip,isInApp:y}))}},{key:"renderPreviewContent",value:function(){var e=this.props,t=e.currentPage,n=e.nextPage,o=e.app,r=e.interactions,l=e.preview,s=e.linkFadeIn,c=e.needPerspective,p=e.overlayPage,f=e.overlayAnimation,v=this.state,w=v.previewOptions,y=v.scale,b=v.treeData;if(!w||!l||!b)return null;if(o.source===h.AppSource.Axure)return a.createElement("div",{className:"preview-context",ref:this.contextDom},a.createElement("div",{className:"special-preview-page-wrapper",style:{transform:"scale("+y+")",transformOrigin:"top left",width:100/y+"%",height:100/y+"%"}},a.createElement(g.default,{dataURL:t.dataURL,preventEvents:!1,adjustBodyPosition:!1})));if(o.source===h.AppSource.Mockplus)return a.createElement("div",{className:"preview-context",ref:this.contextDom},a.createElement("div",{className:"special-preview-page-wrapper special-preview-page-wrapper-mockplus",style:{transform:"scale("+y+")",transformOrigin:"top left",width:100/y+"%",height:100/y+"%"}},a.createElement(m.default,{dataURL:t.dataURL})));var P=t?Object.assign({},t.size):{width:0,height:0};return a.createElement("div",{className:"preview-context",ref:this.contextDom},a.createElement(i.ScrollView,null,a.createElement(u.default,{ref:this.shell,shellRef:this.shellDom,size:P,scale:y,appType:o.appType,mobileType:w.mobileType,isLandscape:t.landscape,onMount:this.autoScale,needPerspective:c,autoScreen:w.autoScreen,onChangeScale:this.onChangeScale},a.createElement(d.default,{interactions:r,firstPage:t,nextPage:n,overlayPage:p,scale:y,appType:o.appType,options:w,isFadeIn:s,overlayAnimation:f,panState:l.panState,delta:l.delta}))))}}]),t}(a.Component);w.defaultProps={app:null,preview:null,currentPage:null,nextPage:null,overlayPage:null,interactions:null,loaded:!1,goHome:null,goBackWard:null,goForWard:null,onPreLoadImage:null,linkFadeIn:!1,onLinkAreaFadeInStart:null,onPageSelected:null,onUnmount:null,needPerspective:!1,overlayAnimation:"",user:null,goPrevPage:null,goNextPage:null,notFromInvitation:!1,isFromApps:!1},t.default=w},2061:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),l=n(2062);n(2063);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onKeyDown=n.onKeyDown.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n.dom=r.createRef(),n.focused=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"onKeyDown",value:function(e){var t=l.convertEventToHotKey(e),n=this.props.keyDownHandlers,o=n&&n[t];o&&(o(e),e.preventDefault(),e.stopPropagation())}},{key:"onKeyUp",value:function(e){var t=l.convertEventToHotKey(e),n=this.props.keyUpHandlers,o=n&&n[t];o&&(o(e),e.preventDefault(),e.stopPropagation())}},{key:"focus",value:function(){this.dom.current&&this.dom.current.focus()}},{key:"blur",value:function(){this.dom.current.blur()}},{key:"render",value:function(){var e,t,n,o=this,l=this.props,s=l.className,c=l.style,u=(l.keyDownHandlers,l.keyUpHandlers,a(l,["className","style","keyDownHandlers","keyUpHandlers"]));return r.createElement("div",Object.assign({className:i.default("hot-key-catcher",(e={},t=s||"",n=!0,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),ref:this.dom,style:c,tabIndex:-1,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onBlur:function(){o.focused=!1},onFocus:function(){o.focused=!0}},u),this.props.children)}}]),t}(r.Component);t.default=s},2062:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a={},r={};t.convertEventToHotKey=function(e){var t=[],n=e.key.toLowerCase();return("control"===n||"meta"===n||e.metaKey||e.ctrlKey)&&t.push("ctrl"),(e.altKey||"alt"===n)&&t.push("alt"),(e.shiftKey||"shift"===n)&&t.push("shift"),!function(e){return o.isMacOS?"backspace"===e:"delete"===e||"del"===e}(n)?function(e){return-1===["control","shift","alt","meta"].indexOf(e.toLowerCase())}(e.key)&&t.push(e.key):t.push("delete"),t.join("+").toLowerCase()};var i=function(e){switch(e){case"rename":return o.isMacOS?"enter":"f2";case"esc":return"escape";case"space":return" ";case"del":return"delete";default:return e}},l=function(e){return e.toLowerCase().split("+").map(i).join("+")};window.addEventListener("keydown",(function(e){var n=t.convertEventToHotKey(e);a[n]&&a[n].forEach((function(t){t(e)}))})),window.addEventListener("keyup",(function(e){var n=t.convertEventToHotKey(e);r[n]&&r[n].forEach((function(t){t(e)}))}));var s=function(e,t,n){if("number"!=typeof t){var o=l(t);e[o]||(e[o]=[]),e[o].push(n)}},c=function(e,t,n){if("number"!=typeof t){var o=l(t);e[o]&&e[o].splice(e[o].indexOf(n),1)}};t.isHotKeyPressed=function(e,n){return t.convertEventToHotKey(e)===l(n)},t.addKeyDownListener=function(e,t){s(a,e,t)},t.removeKeyDownListener=function(e,t){c(a,e,t)},t.addKeyUpListener=function(e,t){s(r,e,t)},t.removeKeyUpListener=function(e,t){c(r,e,t)}},2063:function(e,t,n){},2064:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(8),i=n(83),l=n(39),s=n(2015),c=n(9),u=n(172);n(2065);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.doToggleProgress=function(){var e=0,t=n.props.onToggled;!function n(){e<9&&window.requestAnimationFrame(n),e>0&&t(),e+=1}()},n.handleOptionsChanged=function(e){var t=n.props,o=t.options,a=t.onOptionsChanged,r=Object.assign(Object.assign({},o),e);a&&a(r)},n.renderPhoneType=function(){var e=n.props,t=e.appType,o=e.options.mobileType;return t!==u.AppType.Phone?null:a.createElement("div",{className:"mobile-type"},a.createElement("span",null,c.default("prototype.deviceShell")),a.createElement(l.Select,{value:o,width:120,position:"right",options:Object.keys(i.MobileType).map((function(e){return i.MobileType[e]})),onSelect:function(e){n.handleOptionsChanged({mobileType:e})}}))},n.state={expand:e.isShow},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({expand:e.isShow})}},{key:"componentWillUpdate",value:function(e){e.isShow!==this.state.expand&&this.doToggleProgress()}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,o=t.onClose,i=t.options,u=t.data,d=t.selectedID,p=t.onPageSelected,f=t.showOptions,h=this.state.expand,g=i.alwaysShowLinkArea,m=i.showLinkAreaWhenHovered,v=i.autoScreen;return a.createElement("div",{className:r.default("c-controller-panel",{expand:h,fold:!h}),onMouseDown:function(e){e.stopPropagation()}},a.createElement("div",{className:"preview-left-panel"},a.createElement("div",{className:r.default("option-panel",{"option-panel-no-options ":!f})},a.createElement("div",{className:"project-name"},a.createElement("span",null,n),a.createElement("div",{className:"preview-close"},a.createElement(l.Icon,{cls:"demo_close",onClick:function(){o&&o()}}))),f&&a.createElement("div",{className:"option-check"},a.createElement(l.Checkbox,{text:c.default("prototype.alwaysShowLinkArea"),checked:g,onChange:function(t){e.handleOptionsChanged({alwaysShowLinkArea:t})}})),f&&a.createElement("div",{className:"option-check"},a.createElement(l.Checkbox,{text:c.default("prototype.showLinkAreaWhenHovered"),checked:m,onChange:function(t){e.handleOptionsChanged({showLinkAreaWhenHovered:t})}})),f&&a.createElement("div",{className:"option-check"},a.createElement(l.Checkbox,{text:c.default("prototype.autoScreen"),checked:v,onChange:function(t){e.handleOptionsChanged({autoScreen:t})}})),f&&this.renderPhoneType()),a.createElement("div",{className:"tree-frame"},a.createElement(l.ScrollView,null,a.createElement(s.default,{key:"tree",data:u,selectedID:d,onPageSelected:p})))))}}]),t}(a.Component);d.defaultProps={name:null,isShow:!0,isFree:!0,appType:null,options:{alwaysShowLinkArea:!0,mobileType:i.MobileType.iphone,showControllerPanel:!0,showLinkAreaWhenHovered:!0,showToolbar:!0,autoScreen:!0},onOptionsChanged:null,onClose:null,data:[],selectedID:null,onPageSelected:null,onToggled:null,onClickInviteOk:null,notFromInvitation:!1},t.default=d},2065:function(e,t,n){},2066:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(39),i=n(9),l=n(100);n(2067);var s=n(18),c=function(e){var t="preview_navigation_bar_position";if(!e){var n=s.getLocalStorage().getItem(t);if(n){var o=JSON.parse(n),a=window.innerHeight;return o.top=Math.min(o.top,a-50),o.right=Math.max(o.right,-200),o}return{top:50,right:50}}return localStorage.setItem(t,JSON.stringify(e)),null},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.zoomerDom=a.createRef(),n.self=a.createRef(),n.qrCode=a.createRef(),n.initQrcode=!1,n.setQrShow=function(e){n.setState({showQrCode:e}),e&&n.zoomerDom.current.closePanel(),n.manageQrMouseDown(e)},n.manageResizeEvent=function(){n.props.isShow?window.addEventListener("resize",n.handleResize):window.removeEventListener("resize",n.handleResize)},n.manageQrMouseDown=function(e){e?window.addEventListener("mousedown",n.closeQrCode):window.removeEventListener("mousedown",n.closeQrCode)},n.closeQrCode=function(){n.setState({showQrCode:!1}),n.manageQrMouseDown(!1)},n.handleResize=function(){if(n.props.isShow){var e=n.state.pt,t=n.self.current&&n.self.current.getBoundingClientRect(),o=t.left,a=t.width,r=window.innerWidth;if(o<0){var i=r-a;n.setState({pt:Object.assign(Object.assign({},e),{right:i})})}}},n.adjustQRCodePosition=function(){var e=n.state,t=e.showQrCode,o=e.codeTop;if(t&&n.qrCode){var a=n.qrCode.current.getBoundingClientRect(),r=n.self.current.getBoundingClientRect(),i=-a.height-2;r.top-a.height<0&&(i=r.height+2),o!==i&&n.setState({codeTop:i})}},n.handleMouseDown=function(e){if("IMG"!==e.target.tagName){var t=n.state,o=t.pt,a=t.showQrCode,r=o.top,i=o.right,s={top:r,right:i},u=n.self.current.getBoundingClientRect(),d=window.innerWidth,p=window.innerHeight;l.dragDelegate((function(e,t){e.stopPropagation();var o=t.x,a=t.y;s.top=Math.max(0,Math.min(r+a,p-u.height)),s.right=Math.max(0,Math.min(i-o,d-u.width)),n.setState({pt:Object.assign({},s)})}),(function(e,t,o){var r=n.state.isClickQrCodeIcon;o&&c(s),r?(n.setState({isClickQrCodeIcon:!1}),n.setQrShow(a)):(n.setState({isClickQrCodeIcon:!1}),n.closeQrCode())}))}},n.state={pt:c(),showQrCode:!1,codeTop:0,isClickQrCodeIcon:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.handleResize(),this.manageResizeEvent()}},{key:"componentDidUpdate",value:function(){this.adjustQRCodePosition()}},{key:"render",value:function(){var e=this,t=this.state,n=t.pt,o=(t.showQrCode,t.codeTop,this.props),l=o.onToggleControllerPanelVisible,s=o.onGoHome,c=o.onBackWard,u=o.onForWard,d=(o.appType,o.onZoomChange),p=o.scale,f=o.isShow,h=o.canBack,g=o.canNext,m=o.onExit,v=o.canExit,w=o.zip,y=o.showControllerPanel,b=o.isInApp;return f?a.createElement("div",{ref:this.self,style:n,className:"c-preview-navigation-bar",onMouseDown:this.handleMouseDown},a.createElement(r.Icon,{cls:"demo_control",tooltip:y?i.default("prototype.hideControllerPanel"):i.default("prototype.showControllerPanel"),onClick:l}),a.createElement(r.Icon,{cls:"demo_home",tooltip:i.default("preview.goHome"),onClick:s}),a.createElement(r.Icon,{cls:"demo_leftarrow",tooltip:i.default("preview.goBackWard"),color:h?void 0:"#ccc",onClick:c}),a.createElement(r.Icon,{cls:"demo_rightarrow",tooltip:i.default("preview.goForWard"),color:g?void 0:"#ccc",onClick:u}),a.createElement("div",{className:"zoomer-container",onMouseDown:function(t){t.stopPropagation(),e.setQrShow(!1)}},a.createElement(r.Zoomer,{onZoom:d,ref:this.zoomerDom,min:20,max:400,step:10,value:p,canInput:!1,canSelect:!0})),v&&!w&&b&&a.createElement(r.Icon,{cls:"demo_quit",tooltip:i.default("preview.exit"),onClick:m})):null}}]),t}(a.Component);u.defaultProps={onGoHome:null,onBackWard:null,onForWard:null,onZoomChange:null,onToggleControllerPanelVisible:null,scale:100,appType:null,isShow:!0,canBack:!1,canNext:!1,canExit:!0,onExit:null,zip:!1},t.default=u},2067:function(e,t,n){},2068:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(8),i=n(2010),l=n(34),s=n(540),c=n(536);n(2069);var u=n(18),d=s.default(),p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calculatePoint=function(){var e=n.props.shellRef,t=n.state,o=t.containerHeight,a=t.containerWidth;if(e){var r=e.current.parentNode.getBoundingClientRect(),i=r.height,l=r.width;o===i&&a===l||n.setState({containerHeight:i,containerWidth:l})}},n.calculateAutoScreenScale=function(){var e=n.props,t=e.onChangeScale,o=e.appType,a=e.shellRef,r=e.scale,l=e.isLandscape,s=e.mobileType,u=e.size,d="phone"===o&&s!==c.MOBILE_TYPE_NONE,p=null,f=r;if(a){var h=a.current.parentNode.getBoundingClientRect(),g=h.width,m=h.height;if(d){if(p=i.default.getShellInfo(s,l)){var v=p,w=v.defaultScreenSize,y=v.shellSize,b=v.screenBounds;f=g/m<y.width/y.height?(g-40)/(y.width*(w.height/b.height)):(m-40)/(y.height*(w.width/b.width))}}else{var P=u.width,E=u.height;f=g/m>P/E?(m-40)/E:(g-40)/P}}t(f)},n.state={containerHeight:0,containerWidth:0,cursorPressed:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.calculatePoint();var e=this.props,t=e.onMount;e.autoScreen?setTimeout(this.calculateAutoScreenScale,0):setTimeout(t,0),window.addEventListener("resize",d.call)}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.props,o=n.appType,a=n.autoScreen,r=n.mobileType,i=n.onMount,l=n.isLandscape,s=n.size,u=!1;(u="phone"===o?r!==c.MOBILE_TYPE_NONE?e.mobileType!==r||e.autoScreen!==a||e.isLandscape!==l:e.mobileType!==r||e.autoScreen!==a||e.size.width!==s.width||e.size.height!==s.height:e.autoScreen!==a||e.size.width!==s.width||e.size.height!==s.height)&&e.autoScreen?setTimeout(this.calculateAutoScreenScale,0):u&&!e.autoScreen&&setTimeout(i,0)}},{key:"componentWillUpdate",value:function(){d.remove(this.calculatePoint)}},{key:"componentDidUpdate",value:function(){d.add(this.calculatePoint)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",d.call)}},{key:"renderMobileShell",value:function(e){var t=this.props,n=t.appType,o=t.mobileType;if("phone"!==n||o===c.MOBILE_TYPE_NONE)return null;if(e){var i=e.shellImage,l={};return l[o.toLowerCase()]=!0,a.createElement("div",{className:r.default("device-box",l),style:{width:"100%",height:"100%",top:0,left:0,position:"absolute"}},a.createElement("img",{src:i,style:{width:"100%",height:"100%",top:0,left:0,position:"absolute",pointerEvents:"none"},draggable:!1}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.size,o=t.scale,s=t.mobileType,d=t.isLandscape,p=t.appType,f=t.shellRef,h=t.needPerspective,g=this.state,m=g.containerHeight,v=g.containerWidth,w=g.cursorPressed,y=Object.assign({},l.size.scale(n,o)),b=0,P=0,E=y.width,S=y.height,k="phone"===p&&s!==c.MOBILE_TYPE_NONE,O=E,T=S,_=E,I=S,L=null;if(k){if(L=i.default.getShellInfo(s,d)){var x=L,C=x.defaultScreenSize,D=x.shellSize,j=x.screenBounds,N=C.width/j.width*o;b=Math.max(b,Math.ceil(j.left*N)),P=Math.floor(j.top*N),I=Math.ceil(j.height*N),_=Math.round(j.width*N),O=Math.round(D.width*N),T=Math.round(D.height*N)}}else O+=20,I=T=window.innerHeight;var M={left:b,top:P,width:_,height:I},A=0,R=Math.max(20,Math.round((v-O)/2));return k?A=Math.max(20,Math.round((m-T)/2)):(M.height=Math.min(T,S),S<m&&(M.top=Math.round((m-S)/2))),a.createElement("div",{ref:f,style:{width:O,height:T,left:R,top:A},className:r.default("c-device",{mobile:k})},a.createElement("div",{className:r.default("device-screen",{mobile:k,perspective:h,isPressed:w,isFF:u.isFireFox}),onMouseDown:function(t){t.stopPropagation(),e.setState({cursorPressed:!0})},onMouseUp:function(t){t.stopPropagation(),e.setState({cursorPressed:!1})},style:M},this.props.children),this.renderMobileShell(L))}}]),t}(a.Component);p.defaultProps={size:{width:0,height:0},mobileType:null,shellRef:null,isLandscape:!1,scale:1,onMount:null},t.default=p},2069:function(e,t,n){},2070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(99);n(2071);t.default=function(e){var t=e.dataURL,n=a.extname(t),r=a.basename(t,n),i=t.replace(/MBX\/.*$/,"index.html")+"?to="+r;return o.createElement("iframe",{className:"mockplus-preview-iframe",src:i})}},2071:function(e,t,n){},2072:function(e,t,n){},2073:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(262),i=n(83),l=n(2005),s=n(39),c=n(101),u=n(2074),d=n(9);n(2077);var p=n(545),f=n(2078),h=n(2006),g=n(539),m=n(536),v=n(176),w=0,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getPreviewDataData=function(){var e=n.props,t=(e.loadAppPreviewData,e.loadLocalPreviewData),o=e.selectedPage,a=e.startPage;t(JSON.parse(window.data.replace("/\n/g","")),o,a)},n.onTransitionEnd=function(e){if(n.props.preview.panState){if(e)n.handleAnimateEnd();else{var t=n.props,o=t.currentPage,a=t.skipDone,r=o?o._id:null;r&&(a({target:r}),setTimeout(n.doStartAutoSkip,0))}n.setState({animationFlag:null,interactionFlag:null})}},n.overlayToPage=function(e){var t=n.props,o=t.overlayPage,a=t.overlayTo;o?(n.setState({overlayAnimation:o.animate.animation}),setTimeout((function(){n.setState({overlayAnimation:""}),a(e)}),o.animate.duration)):a(e)},n.doStopAutoSkip=function(){n.autoSkipID&&(clearTimeout(n.autoSkipID),n.autoSkipID=void 0)},n.handleAnimateEnd=function(){var e=n.props,t=e.nextPage,o=e.skipDone;n.doPreLoadImage(t._id);var a=t?t._id:null,r=t.animate,i=r.animation,l=r.duration,s=r.action;a&&(s===g.OVERLAY?n.doSkipOrOverlay({target:a,animation:i,duration:l,action:g.OVERLAY,noStyle:!0}):(o({target:a,animation:i}),setTimeout(n.doStartAutoSkip,0)))},n.handleInteractionClick=function(e,t){clearTimeout(w),w=0;var o=n.props,a=o.goBackWard,r=o.goHome;if(n.setState({linkFadeIn:!1}),n.doStopAutoSkip(),t.type!==i.externalLink)if(t.type===i.backLink)a();else if(t.type===i.homeLink)r();else{var l=t.target,s=t.action,c=t.animation,u=t.duration,d=t.type;n.doSkipOrOverlay({target:l,action:s,animation:c,duration:u,type:d,noStyle:!1})}else{var p=t.target;window.open(p,"_blank")}},n.doSkipOrOverlay=function(e){var t=n.props.skipTo;if(e.action===g.OVERLAY){var o=e.target,a=e.animation,r=e.duration,i=e.action,l=e.noStyle;n.overlayToPage({target:o,animation:a,duration:r,action:i,noStyle:l})}else t(e)},n.handlePageGesture=function(){clearTimeout(w),w=0,n.doPageSkip()},n.handleSkipToPage=function(e){var t=n.props.skipTo;n.doStopAutoSkip(),t({target:e}),setTimeout(n.doStartAutoSkip,0)},n.handleLinkAreaFadeInEnd=function(){n.state.linkFadeIn&&n.setState({linkFadeIn:!1})},n.handleLinkAreaFadeInStart=function(){n.setState({linkFadeIn:!0})},n.handleInteractionPan=function(e,t){var o=n.props.panTo;n.state.interactionFlag||n.setState({interactionFlag:Object.assign(Object.assign({},t),{animate:t.animation})}),o({target:t.target,animation:t.animation,duration:t.duration,gesture:t.gesture,action:t.action,type:t.type},e)},n.handleInteractionPanDone=function(e,t){(0,n.props.panDone)({target:t.target,animation:t.animation,duration:t.duration,gesture:t.gesture,action:t.action,type:t.type},e)},n.handlePagePan=function(e){var t=n.props,o=t.currentPage,a=t.loaded,r=t.panTo;if(a&&o&&o.onLoaded){var i=o.onLoaded;if(!i)return;var l=n.state.interactionFlag||i,s=l.target,c=l.animate,u=l.duration,d=l.gesture,p=l.action;s&&r({target:s,animation:c,duration:u,gesture:d,action:p,type:""},e)}},n.handlePagePanDone=function(e){var t=n.props,o=t.currentPage,a=t.loaded,r=t.panDone;if(a&&o&&o.onLoaded){var i=o.onLoaded;if(!i)return;var l=n.state.interactionFlag||i,s=l.target,c=l.animate,u=l.duration,d=l.gesture,p=l.action;s&&r({target:s,animation:c,duration:u,gesture:d,action:p,type:""},e)}},n.doPreLoadImage=function(e){var t=n.props,o=t.app,a=t.preLoad,r=t.interactions;l.preloadImage(e,o.children,r,a)},n.doStartAutoSkip=function(){var e=n.props,t=e.currentPage,o=e.nextPage,a=e.loaded,r=e.autoSkipToPage;if(a&&t&&!o){var i=t.onLoaded;if(i&&n.pageWhetherExist(i.target)){var l=t.onLoaded,s=l.delay,c=l.target,u=l.animate,d=l.duration,p=l.gesture,f=l.action;c&&!p&&(n.autoSkipID=window.setTimeout((function(){f===g.OVERLAY?n.overlayToPage({target:c,animation:u,duration:d}):(n.doStopAutoSkip(),r(c,{animation:u,duration:d}))}),s))}}},n.pageWhetherExist=function(e){var t=n.props.app;if(t){var o=t.children;return l.validatePageExist(o,e)}return!1},n.doPageSkip=function(){var e=n.props,t=e.currentPage,o=e.nextPage,a=e.loaded,r=e.pageSkipToPage,i=e.overlayPage;if(a&&t&&!o&&t.onLoaded){var l=(i||t).onLoaded;if(!l)return;var s=l.target,c=l.animate,u=l.duration,d=l.action;s&&(d===g.OVERLAY?n.overlayToPage({target:s,animation:c,duration:u}):(n.doStopAutoSkip(),r(s,{animation:c,duration:u})))}},n.exitPreview=function(){l.isLarkApplets?tt&&tt.miniProgram&&tt.miniProgram.navigateBack&&tt.miniProgram.navigateBack():l.isLarkBrowser?window.h5sdk&&window.h5sdk.ready((function(){window.h5sdk.biz.navigation.close({})})):window.ReactNativeWebView&&window.ReactNativeWebView.postMessage("exit")},n.renderNoPage=function(){var e=n.props,t=e.app,o=e.user,r=e.teamInfo,i=e.getTeamInfo;r.id||i(t.teamID);var c=r.roleInTeam;if(!o.user||!v.validatePermission(v.MODE_STORY_BOARD,v.OPERATE_ADD,c,!1))return a.createElement(u.default,null,a.createElement("div",null,d.default("preview.noPage.notTeamMember"),(l.isPhoneIn||l.isLarkBrowser)&&a.createElement("button",{className:"idoc-phone-back-button",onClick:n.exitPreview},d.default("activity.back"))));var p="/app/"+t._id+"/storyboard";return a.createElement(u.default,{url:p,onClick:function(){localStorage.removeItem("closeUpLoadTip")}},a.createElement("div",null,d.default("preview.noPage.isTeamMember"),l.isPhoneIn||l.isLarkBrowser?a.createElement("button",{className:"idoc-phone-back-button",onClick:n.exitPreview},d.default("activity.back")):a.createElement(s.Link,{className:"add-page-link",href:p},d.default("preview.noPage.addPage"))))},n.login=function(e,t){var o=n.props,a=o.login,r=o.clearMessage;a(e,t,(function(){n.getPreviewDataData(),r()}))},n.isFirstLoaded=!0;window.location.search;return n.state={linkFadeIn:!1,needPerspective:!1,controlPanelType:m.SHOW_DO_ONE_PANEL,overlayAnimation:"",animationFlag:"",interactionFlag:null,showPhoneTree:!1},n.onMobileToggleTree=n.onMobileToggleTree.bind(n),n.onMobileTouchStart=n.onMobileTouchStart.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.getPreviewDataData()}},{key:"componentWillReceiveProps",value:function(e){var t=e.app,n=e.nextPage,o=e.user,a=e.isInTeam,r=e.isInApp,i=e.isJoined;if(n){var s=n.animate.animation,c=this.state.animationFlag;c||this.setState({animationFlag:s}),"flipInX"===c||"flipOutX"===c?this.setState({needPerspective:!0}):this.setState({needPerspective:!1})}if(t){var u=t.inviteAsCollaborator;if(l.isLarkBrowser&&window.h5sdk){var d=t.name;window.h5sdk.ready((function(){window.h5sdk.biz.navigation.setTitle({title:d})}))}var p=m.SHOW_DO_ONE_PANEL;o.user?(a||r||i)&&(p=m.SHOW_TEAM_PANEL):p=u?m.SHOW_INVITATION_PANEL:p,this.setState({controlPanelType:p})}}},{key:"componentDidUpdate",value:function(){this.props.loaded&&(this.isFirstLoaded&&this.doStartAutoSkip(),this.isFirstLoaded=!1)}},{key:"onMobileToggleTree",value:function(){var e=this.state.showPhoneTree;this.setState({showPhoneTree:!e})}},{key:"onMobileTouchStart",value:function(){return w=setTimeout(this.onMobileToggleTree,500),!1}},{key:"onMobileTouchMove",value:function(){return clearTimeout(w),!1}},{key:"onMobileTouchEnd",value:function(){clearTimeout(w),w=0}},{key:"render",value:function(){var e=this.props,t=e.childNode,n=e.loaded,o=e.currentPage,r=e.clear,i=e.message,s=e.mode,c=e.redirectTo,u=e.onSelectPage,d=e.loadApp,p=e.user,g=e.register,m=e.isInApp,v=e.app,w=this.state,y=w.linkFadeIn,b=w.needPerspective,P=w.controlPanelType,E=w.overlayAnimation,S=w.showPhoneTree;if(i)return!l.isPhoneIn&&l.isLarkBrowser,a.createElement(f.default,{code:i.code,user:p.user,login:this.login,register:g});if(v&&"rp"===v.source)return a.createElement("iframe",{className:"rp-run-iframe",src:"/rp/run/"+v._id});if(n&&!o)return this.renderNoPage();if(!n||!t)return null;var k=t;return a.createElement(h.default.Provider,{value:{onPagePan:this.handlePagePan,onPagePanDone:this.handlePagePanDone,onPageGesture:this.handlePageGesture,pageWhetherExist:this.pageWhetherExist,onAnimationEnd:this.handleAnimateEnd,onTransitionEnd:this.onTransitionEnd,onLinkClick:this.handleInteractionClick,onLinkFadeInEnd:this.handleLinkAreaFadeInEnd,onLinkPan:this.handleInteractionPan,onLinkPanDone:this.handleInteractionPanDone}},a.createElement(a.Fragment,null,a.createElement(k,Object.assign({},this.props,{linkFadeIn:y,onPageSelected:this.handleSkipToPage,onPreLoadImage:this.doPreLoadImage,onLinkAreaFadeInStart:this.handleLinkAreaFadeInStart,onUnmount:r,needPerspective:b,mode:s,redirectTo:c,onSelectPage:u,loadApp:d,controlPanelType:P,overlayAnimation:E,showPhoneTree:S,onMobileToggleTree:this.onMobileToggleTree,onMobileTouchStart:this.onMobileTouchStart,onMobileTouchMove:this.onMobileTouchMove,onMobileTouchEnd:this.onMobileTouchEnd,isInApp:m}))))}}]),t}(a.Component);y.defaultProps={app:null,currentPage:null,nextPage:null,loaded:!1,interactions:null,childNode:null,skipTo:null,skipDone:null,preLoad:null,goBackWard:null,goForWard:null,goHome:null,loadAppPreviewData:null,loadLocalPreviewData:null,autoSkipToPage:null,clear:null,zip:!1,message:null};var b=r.connect((function(e,t){var n=e.preview,o=e.user,a=e.teamInfo,r=t.location.state&&t.location.state.startPage||"home",i=t.location.state&&t.location.state.selectedPage||"",l=t.location.state&&t.location.state.isFromApps,s=n.app,c=n.interactions,u=n.currentPage,d=n.nextPage,p=n.loaded,f=n.zip,h=n.message,g=n.overlayPage,m=n.isInTeam,v=n.isInApp,w=n.notFromInvitation,y=n.isJoined,b=void 0;if(p){var P=s.homepage,E=void 0;u&&(E=u,P=u._id),g&&(E=g,P=g._id),P&&(b=c.filter((function(e){return E.interactions.includes(e._id)&&e.target!==e.pageID})))}return{app:s,loaded:p,preview:n,currentPage:u,nextPage:d,overlayPage:g,interactions:b,isInTeam:m,isInApp:v,zip:f,message:h,user:o,teamInfo:a,selectedPage:i,startPage:r,notFromInvitation:w,isFromApps:l,isJoined:y}}),(function(e,t){var n=t.match.params.shareID;return{loadLocalPreviewData:function(t,n,o){e(c.default.preview.loadLocalPreviewData(t,n,o))},loadAppPreviewData:function(t,o){e(c.default.preview.loadPreviewData(n,t,o))},skipTo:function(t){e(c.default.preview.skipTo(t))},skipDone:function(t){e(c.default.preview.skipDone(t))},goHome:function(){e(c.default.preview.goHome())},goBackWard:function(){e(c.default.preview.goBackWard())},goForWard:function(){e(c.default.preview.goForWard())},preLoad:function(t){e(c.default.preview.preLoad(t))},autoSkipToPage:function(t,n){e(c.default.preview.autoSkipToPage(t,n))},pageSkipToPage:function(t,n){e(c.default.preview.pageSkipToPage(t,n))},clear:function(){e(c.default.preview.clear())},onSelectPage:function(t){e(c.default.tree.selectPage(t))},loadApp:function(t,n){e(c.default.app.loadApp(t,n))},overlayTo:function(t){e(c.default.preview.overlayTo(t))},panTo:function(t,n){e(c.default.preview.panTo(t,n))},panDone:function(t,n){e(c.default.preview.panDone(t,n))},goPrevPage:function(){e(c.default.preview.goPrevPage())},goNextPage:function(){e(c.default.preview.goNextPage())},getTeamInfo:function(t){e(c.default.preview.getTeamInfo(t))},login:function(t,n,o){e(c.default.user.login({email:t,password:n},o))},register:function(t,n,o){e(c.default.user.register({name:t,email:n,password:o}))},clearMessage:function(){e(c.default.preview.clearMessage())}}}))(y);t.default=function(e){return a.createElement(p.default.Consumer,null,(function(t){var n=t.redirectTo;return a.createElement(b,Object.assign({},e,{redirectTo:n}))}))}},2074:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2075);n(2076);var r=function(e){var t=e.url,n=e.onClick,r=e.children;return o.createElement("div",{className:"no-page",onClick:n},o.createElement("div",{className:"no-page-icon"},t?o.createElement("a",{href:t},o.createElement("img",{src:a})):o.createElement("img",{src:a}),o.createElement("div",{className:"no-page-msg"},r)))};r.defaultProps={url:"",onClick:null,children:""},t.default=r},2075:function(e,t,n){e.exports=n.p+"assets/no-page.b6fc0964aab54e1cd2848897a7273127.svg"},2076:function(e,t,n){},2077:function(e,t,n){},2078:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(9),r=n(102),i=n(2079),l=n(2080),s=n(39);n(2081);var c=401,u={1:{title:a.default("share.shareLinkNoEfficacy1"),content:a.default("share.shareLinkNoEfficacy2"),button:a.default("share.goWebsite")},401:{title:a.default("share.nologinTip"),content:a.default("share.loginContent"),button:a.default("share.login")},411:{title:a.default("share.noPermissionTip1"),content:a.default("share.noPermissionTip2"),button:a.default("share.goWebsite"),changeUser:a.default("share.switchAccount")}};t.default=r.withRouter((function(e){var t=e.code,n=e.user,r=(e.login,e.teamID,e.history,e.register,t===c);return o.createElement("div",{className:"c-invitation-container"},o.createElement("div",{className:"logo"},o.createElement("img",{src:l,className:"invitation-logo",alt:"invitationLogo"})),o.createElement("div",{className:"topContent"},o.createElement("img",{src:i,alt:"invitation-img"}),o.createElement("div",{className:"invitation-info-box"},o.createElement("div",{className:"title"},u[t].title),o.createElement(o.Fragment,null,o.createElement("div",{className:"box"},u[t].content),o.createElement("div",{className:"isInTeam-button"},o.createElement(s.Button,{width:"300px",onClick:function(){window.location.href=r?"/signin?next="+window.location.href:"/?home=1"},className:"btn-auto-width"},u[t].button)),u[t].changeUser&&o.createElement("div",{className:"join-index"},o.createElement("div",{className:"switch-user-login"},o.createElement(s.Link,{theme:"basic",href:"/signin"},a.default("invitation.switchAccount"))),o.createElement("div",{className:"join-tip-Text"},a.default("invitation.loginUserInfo",n.email)))))))}))},2079:function(e,t,n){e.exports=n.p+"assets/invitation.83f09e2a876a46e791f44f2f89af1661.png"},2080:function(e,t,n){e.exports=n.p+"assets/invitationLogo.1652efb1063d7fdff68724a2e8e252d2.png"},2081:function(e,t,n){}}]);